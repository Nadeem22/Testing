public List<Team> getOpTeamDropdown(String city, UserForm userLogin) {
        String sql;
        List<Object> params = new ArrayList<>();
        if (city == null || city.equals("-1")) {
            sql = "SELECT op.team_name, op_team_id FROM op_team op inner join h2h_teams ht on ht.team_id=op.op_team_id";
            if (userLogin.getUserType() != null && !userLogin.getUserType().equals("1") && !userLogin.getUserType().equals("17")) {
                sql += " where agencyId=? ";
                params.add(userLogin.getUserId());
            }
        } else {
            sql = "SELECT op.team_name, op_team_id FROM op_team op inner join h2h_teams ht on ht.team_id=op.op_team_id where ht.city_id=?";
            params.add(city);
            if (userLogin.getUserType() != null && !userLogin.getUserType().equals("1") && !userLogin.getUserType().equals("17")) {
                sql += " AND ht.agencyId=?";
                params.add(userLogin.getUserId());
            }
        }
        sql += " order by ht.team_name asc";
        System.out.println(sql);
        
        return jdbcTemplate.query(sql, params.toArray(), teamMapper);
    }

    private RowMapper<Team> teamMapper = (rs, rowNum) -> {
        Team team = new Team();
        team.setTeamName(rs.getString("team_name"));
        team.setTeamId(rs.getString("op_team_id"));
        return team;
    };
    
    
  @Autowired
private NamedParameterJdbcTemplate namedParameterJdbcTemplate;

public List<User> getUserOp(String userName, String userType, String city, String team, String page,
                             UserForm loginUser, String value, String param) {

    System.out.println("page " + page);
    String query = "";

    if (loginUser.getUserType().equals("9")) {
        query = " MYQUERY "
                + " And um.agencyId=" + loginUser.getUserId();
    }

    MapSqlParameterSource parameters = new MapSqlParameterSource();
    if (page.equals("searchPage")) {
        if (!(userName.equals("") || userName.equals("-1"))) {
            query += " AND um.user_name like :userName ";
            parameters.addValue("userName", "%" + userName + "%");
        }
        if (!(userType==null || userType.equals("-1"))) {
            query += " AND um.user_type = :userType";
            parameters.addValue("userType", userType);
        }
        if (!(city==null|| city.equals("-1"))) {
            query += " AND um.city in (:city)";
            parameters.addValue("city", city);
        }
        if (!(team==null|| team.equals("-1"))) {
            query += " AND um.parent_user_id in (:team)";
            parameters.addValue("team", team);
        }
    }

    int start = ContextUtil.getReportProperties("report_start");
    int limitValue = ContextUtil.getReportProperties(param);
    if (!value.equals("0")) {
        int values = Integer.parseInt(value);
        query = query + "  limit " + (values * limitValue) + "," + (limitValue + 1);
    } else
        query = query + " limit " + start + "," + (limitValue + 1);

    System.out.println("query:##**" + query);
    List<User> userList = namedParameterJdbcTemplate.query(query, parameters, (rs, rowNum) -> {
        User user = new User();
        // Copy rest of the fields from result set to user object as in original code
        //...
        return user;
    });

    return userList;
}
